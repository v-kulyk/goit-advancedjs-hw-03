{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport function fetchBreeds() {\n  return axios.get('https://api.thecatapi.com/v1/breeds').then((response) => response.data)\n}\n\nexport function fetchCatByBreed(breedId) {\n  return axios.get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`).then((response) => response.data)\n}\n","import SlimSelect from 'slim-select'\nimport './css/slimselect.css'\nimport iziToast from 'izitoast'\nimport 'izitoast/dist/css/iziToast.min.css'\n\nimport axios from 'axios';\naxios.defaults.headers.common[\"x-api-key\"] = \"live_KmCtF6WiNAjqWD48uYPqxTaLUvzguU2QWWwCRcK8WjXghJwk7RZztcpWANiKEhxQ\";\nimport { fetchBreeds, fetchCatByBreed } from './js/cat-api.js';\n\n// Під час завантаження сторінки має виконуватися HTTP-запит за колекцією порід.\n// Для цього необхідно виконати GET-запит на ресурс https://api.thecatapi.com/v1/breeds, що повертає масив об'єктів.\n// У разі успішного запиту, необхідно наповнити select.breed-select опціями так, щоб value опції містило id породи,\n// а в інтерфейсі користувачеві відображалася назва породи.\n// Напиши функцію fetchBreeds(), яка виконує HTTP-запит і повертає проміс із масивом порід - результатом запиту. Винеси її у файл cat-api.js та зроби іменований експорт.\nconst refs = {\n  select: document.querySelector('.breed-select'),\n  info: document.querySelector('.cat-info'),\n}\n\nfetchBreeds()\n  .then((data) => {\n    refs.info.innerHTML = ''\n    //fill in select dropdown\n    const select = new SlimSelect({\n      select: '.breed-select',\n      data: data.map(breed => ({\n        text: breed.name,\n        value: breed.id\n      })),\n      events: {\n        afterChange: (info) => {\n          const infoContainer = document.querySelector('.cat-info')\n          infoContainer.innerHTML = ''\n          const loader = document.createElement('span')\n          loader.classList.add('loader')\n          infoContainer.append(loader)\n\n          fetchCatByBreed(info[0].value)\n            .then((data) => {\n              infoContainer.innerHTML = ''\n              const img = document.createElement('img')\n              img.src = data[0].url\n              infoContainer.innerHTML = ''\n              infoContainer.append(img)\n\n              //назва породи, опис і темперамент.\n              const h2 = document.createElement('h2')\n              h2.textContent = data[0].breeds[0].name\n              infoContainer.append(h2)\n\n              const p = document.createElement('p')\n              p.textContent = data[0].breeds[0].temperament\n              p.classList.add('italic', 'text-sm')\n              infoContainer.append(p)\n\n              const p2 = document.createElement('p')\n              p2.textContent = data[0].breeds[0].description\n              infoContainer.append(p2)\n            })\n            .catch(() => {\n              refs.info.innerHTML = ''\n              iziToast.error({\n                title: 'Error',\n                message: 'Oops! Something went wrong',\n                position: 'topCenter'\n              })\n            })\n        }\n      }\n    });\n\n  })\n  .catch((error) => {\n    refs.info.innerHTML = ''\n\n    iziToast.error({\n      title: 'Error',\n      message: 'Oops! Something went wrong',\n      position: 'topCenter'\n    })\n  })"],"names":["fetchBreeds","axios","response","fetchCatByBreed","breedId","refs","data","SlimSelect","breed","info","infoContainer","loader","img","h2","p","p2","iziToast","error"],"mappings":"owBAEO,SAASA,GAAc,CAC5B,OAAOC,EAAM,IAAI,qCAAqC,EAAE,KAAMC,GAAaA,EAAS,IAAI,CAC1F,CAEO,SAASC,EAAgBC,EAAS,CACvC,OAAOH,EAAM,IAAI,wDAAwDG,CAAO,EAAE,EAAE,KAAMF,GAAaA,EAAS,IAAI,CACtH,CCFAD,EAAM,SAAS,QAAQ,OAAO,WAAW,EAAI,wEAQ7C,MAAMI,EAAO,CACX,OAAQ,SAAS,cAAc,eAAe,EAC9C,KAAM,SAAS,cAAc,WAAW,CAC1C,EAEAL,EAAa,EACV,KAAMM,GAAS,CACdD,EAAK,KAAK,UAAY,GAEP,IAAIE,EAAW,CAC5B,OAAQ,gBACR,KAAMD,EAAK,IAAIE,IAAU,CACvB,KAAMA,EAAM,KACZ,MAAOA,EAAM,EACrB,EAAQ,EACF,OAAQ,CACN,YAAcC,GAAS,CACrB,MAAMC,EAAgB,SAAS,cAAc,WAAW,EACxDA,EAAc,UAAY,GAC1B,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAC7BD,EAAc,OAAOC,CAAM,EAE3BR,EAAgBM,EAAK,CAAC,EAAE,KAAK,EAC1B,KAAMH,GAAS,CACdI,EAAc,UAAY,GAC1B,MAAME,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMN,EAAK,CAAC,EAAE,IAClBI,EAAc,UAAY,GAC1BA,EAAc,OAAOE,CAAG,EAGxB,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,YAAcP,EAAK,CAAC,EAAE,OAAO,CAAC,EAAE,KACnCI,EAAc,OAAOG,CAAE,EAEvB,MAAMC,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,YAAcR,EAAK,CAAC,EAAE,OAAO,CAAC,EAAE,YAClCQ,EAAE,UAAU,IAAI,SAAU,SAAS,EACnCJ,EAAc,OAAOI,CAAC,EAEtB,MAAMC,EAAK,SAAS,cAAc,GAAG,EACrCA,EAAG,YAAcT,EAAK,CAAC,EAAE,OAAO,CAAC,EAAE,YACnCI,EAAc,OAAOK,CAAE,CACrC,CAAa,EACA,MAAM,IAAM,CACXV,EAAK,KAAK,UAAY,GACtBW,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACT,SAAU,WAC1B,CAAe,CACf,CAAa,CACJ,CACF,CACP,CAAK,CAEL,CAAG,EACA,MAAOC,GAAU,CAChBZ,EAAK,KAAK,UAAY,GAEtBW,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACT,SAAU,WAChB,CAAK,CACF,CAAA"}